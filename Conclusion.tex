\chapter{Conclusion and recommendation for further work}
\section{Conclusion}
This thesis has implemented and tested a path and navigation system for autonomous landing of fixed-wing \gls{uav} in a stationary net. The design of the landing plan generator allowed for generation of landing waypoints, used to create a flyable path for the \gls{uav} from an arbitrary position and direction. The parametrisation of the landing waypoint is accessed through the landing plan generator \gls{api}, allowing for specification of key factors in the creation of the landing plan, e.g. the length of the landing path, decent angle and rotation direction in the approach path.

The implementation of the navigation state control system allowed for integration of \gls{rtk-gnss} into the \gls{uav} navigation system. In addition, the navigation source interface resulted in an excellent overview over the current and available navigation source in the \gls{uav}. Mitigation of short loss of \gls{rtk-gnss} lock by implementation of a short loss compensator fusing navigation data from secondary \gls{gnss} system showed to provide the indented robustness and ability to compensate for short loss of \gls{rtk-gnss}, where related limitations are subject for further work.

Field experiments at Agdenes of the autonomous landing system was performed with a virtual net placed above the runway. The performance of the control system showed promising results, however the low level controllers must be fined tuned for autonomous flight operation. The navigation system with \gls{rtk-gnss} tested in the field at Agdenes showed excellent result during testing of the autonomous stationary net landing system. The operation study on the feasibility of an autonomous landing in a stationary net identified spacial limitations which strain the operational space of the \gls{uav}. Reduction of the limitations through further testing are subject for further work.  

The mobile sensor unit showed excellent performance when used as position reference for the stationary net placement. The functionality of the mobile sensor unit can be expanded to be closer integrated into the autonomous landing system.

The autonomous landing have showed promising results from both \gls{sil} and experimental field testing. The consequence of missing the net, or hitting the net frame, is not acceptable. As such further work is required to safely perform autonomous landings in a stationary net.

%Mitigation of impacts as a consequence of short loss of \gls{rtk-gnss} lock by implementation of a short loss compensator which fused navigation data from secondary \gls{gnss} system showed to provide the indented robustness and ability to compensate for such for a short loss of \gls{rtk-gnss}, where related limitations are subject for further work.



%From the experimental testing of the autonomous landing system it's concluded that both the lateral and longitudinal control system can be used in the autonomous landing system, however further tuning of the low level controller are required. In addition to further testing of the autonomous landing system in order to determine


%The navigation system with \gls{rtk-gnss} tested in the field at Agdenes showed excellent result during testing of the autonomous stationary net landing system.


%The implementation of the landing plan generator presented in Ch. \ref{Ch:Implementation} showed that the landing path generator can be configure through the use of the \gls{api} in the form of the \gls{imc} message LandingPlanGeneration, which ensures that the parameters used to create a landing plan is available in the fixed structure of the \gls{imc} protocol. Further the Software In the Loop (SIL) simulation of the autonomous landing system presented in section \ref{ss:SILLandingPlan} showed the the presented system is capable of performing a autonomous landing in a stationary net with a landing plan created from a arbitrary location. The testing of the control system used in the autonomous landing system showed that during a simulation the control system is able to pass through the net with acceptable precision.
%
%
%In Ch. \ref{Ch:Implementation} the necessary navigation systems need to perform a autonomous landing operation was presented. The \gls{rtk-gnss} system is able to provide high accurate position solution of the \gls{uav} relative to the base station position, with the mobile sensor unit providing a reference position for net placement. The navigation source monitor in Neptus provide the operator with feedback on the state of the \gls{uav} navigation system, which enable the operator to make informative decisions during a autonomous landing in a stationary net operation.
%
%
%The results from the experimental testing of the autonomous landing system presented in Ch. \ref{Ch:ExperimentalTesting}, shows that the lateral control system is capable of performing a autonomous landing during strong wind condition, given that the lateral control system is tuned for the current wind condition. A proposed strategy for tuning the lookahead distance of the lateral control system include a lookahead distance which is a function of the cross track error of the desired path. The longitudinal control system had a stable performance during the experimental testing, which resulted in a low variance in the average height errors. However the high average height error results from the autonomous landing missions showed that longitudinal control system was slow to converge to the desired height. A tuning attempt performed in the the SIL simulation in section \ref{ss:SILLandingPlan}, where the time constant for the height reference smoothing filter was reduced, showed promising results. However due to time limitation the new time constant has not been tested in the field, and together with further tuning of the low level pitch controller in the \gls{uav} would result in a performance closer to that in the SIL simulation.
%
%
%The performance of the navigation system presented in Ch. \ref{Ch:ExperimentalTesting} shows that the navigation system with \gls{rtk-gnss} is reliable enough to be used during a autonomous landing operation. The \gls{rtk-gnss} is still prone to drop out due to shift in satellite geometry, however with the introduction of the short \gls{rtk-gnss} compensator a short loss of \gls{rtk-gnss} is handled in a way that keeps \gls{rtk-gnss} availability and position accuracy. The short \gls{rtk-gnss} loss compensator was introduced in section \ref{ss:ShortLoss} as a method of exploiting the slow moving difference between the \gls{rtk-gnss} and the external navigation system by fusing navigation data from the \gls{rtk-gnss} and the secondary \gls{gnss} system together in a compensating term for the external navigation system.
%
%
%The introduction of the mobile sensor unit in section \ref{ss:MobileSensor} has provide a reference position for net placement in Neptus, in order for correct placement of the landing path. The introduction of a mobile sensor that act as a reference position for net placement allows for increase operational control over a autonomous landing operation, thus reducing the risk of a undesired landing plan being created due to wrong placement of the net.
%During the experimental field test in Ch. \ref{Ch:ExperimentalTesting} at Agdenes airfield limitation in the start height of the landing path when attempting a landing from East was discovered. Due to a surrounding environment which demand a high start altitude, a landing plan created with the purpose of landing in a real stationary net would strain the operational restriction of flying a Line Of Sight operation. In the event a autonomous landing from East is attempted with the current control system the entire runway at Agdenes must be used to ensure a long enough glide slope for sufficient altitude decrease. Alternative landing direction from the west has the disadvantage of being the typical direction of the wind, which is undesired when attempting a autonomous landing due to increased ground speed. All thought during calm wind periods this would not prove a problem, thus becoming an attractive alternative due to the allowance of a lower start altitude of the landing path.
%
%Due to limited time for experimental testing the full potential of the autonomous landing system has yet to be determined, together with a landing attempt in a real stationary net. The overall performance of the autonomous landing system has shown that the system is capable of performing a autonomous landing in a stationary net.


\section{Recommendation for further work}
This master thesis has presented a autonomous landing system, with the main focus on the path and navigation system.
The most important focus for further work is the tuning of the low level controllers in the X8 for autonomous flights. An important aspect here is the separation between control parameter for autonomous and manual flight. Thus the control system must be able to switch tuning parameters depending on the mode of Ardupilot. Further work on the lateral controller would be a lookahead distance parameter which is a function of the cross track error relative to the desired lateral path. In addition the lateral control system could be improved to better follow a path through a turning manoeuvre, with the main motivation of reducing overshot.

In order to shorten the distance of the landing path, a new type of longitudinal control system can be investigated with the main motivation being to use the high dynamic behaviour of the X8 to more effective decrease the altitude. The new control design would use a higher attack angle, however due to the increase stress on the wings the controller must be time dependent to prevent a crash.

The \gls{uav} navigation system can be improved by expanding the functionality of the short \gls{rtk-gnss} loss compensator, with the goal of creating a more robust \gls{rtk-gnss} system. The improvement could be the use of the velocity information from the external navigation system together with the compensator term to further increase the duration where the short \gls{rtk-gnss} loss compensator is valid.

The functionality of the mobile sensor unit can be expanded to enable the fixed wing \gls{uav} to apply target tracking of the position of the sensor unit. This could be used in a autonomous net landing system where the position of the net is dynamic, without the use of multirotor \glspl{uav}. This can be used in a autonomous landing system where the net is placed on a ship.

The autonomous landing system in a stationary net require a monitor to follow the fixed wing \gls{uav} along the landing path and detect when the \gls{uav} hit the net, or be used to trigger an abortion. In the case of abortion the autonomous landing system must include a evasive manoeuvre. Further testing of the current landing system is required to find the boundaries of when an abortion should be triggered.